<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Sign Up</title>
	<link rel="stylesheet" href="css/styles.css">
</head>
<body>
	<div class="card">
		<h1>Create an account</h1>
		<form id="signupForm" method="post" action="signup">
			<label for="name">Full name</label>
			<input type="text" id="name" name="name" required>

			<label for="email">Email</label>
			<input type="email" id="email" name="email" required>

			<label for="password">Password</label>
			<input type="password" id="password" name="password" required>

			<label for="confirm">Confirm password</label>
			<input type="password" id="confirm" name="confirm" required>

			<div class="error" id="errorMsg" aria-live="polite"></div>

			<button type="submit">Sign Up</button>
		</form>
		<div class="note">Already have an account? <a href="home.html">Go to Home</a></div>
	</div>

	<script>
		const form = document.getElementById('signupForm');
		const err = document.getElementById('errorMsg');
		form.addEventListener('submit', function(e){
			e.preventDefault();
			err.textContent = '';
			const name = document.getElementById('name').value.trim();
			const email = document.getElementById('email').value.trim();
			const password = document.getElementById('password').value;
			const confirm = document.getElementById('confirm').value;
			if(!name || !email || !password){ err.textContent = 'Please fill all fields.'; return }
			if(password.length < 6){ err.textContent = 'Password must be at least 6 characters.'; return }
			if(password !== confirm){ err.textContent = 'Passwords do not match.'; return }
			// Save minimal user info locally for the static home page
			try{ localStorage.setItem('signupName', name); localStorage.setItem('signupEmail', email); }catch(e){ /* ignore */ }
			// If form has an action (server-side), submit to it; otherwise fallback to client redirect
			if(form.getAttribute('action')){
				form.submit();
			} else {
				window.location.href = 'home.html';
			}
		});
	</script>
</body>
</html>
